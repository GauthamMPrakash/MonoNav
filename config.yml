# Directory Settings
data_dir: 'data/demo_hallway'
save_dir_prefix: 'data/mononav-'
# Camera Settings
camera_num: 0               # camera number index (test with utils/test_camera.py), try (-1, 0, 1, 2, ...)
camera_source: 'esp32-cam'                                   # used for naming files
camera_calibration_path: 'utils/calibration/intrinsics.json' # camera calibration file (for undistortion)
camera_ip: 'http://10.208.153.56:81/stream'                  # IP camera stream URL (if using an IP camera, otherwise leave blank)   

# Depth Model Settings
# zoedepth_mode: "eval" # "eval" or "infer" - see ZoeDepth documentation for other settings
num_pre_depth_frames: 5       # how many times to run the depth model before starting (the first few inferences are much slower)
INPUT_SIZE: 238               # Multiple of 14. Scales the image by INPUT_SIZE/smaller image dimension
DA2_CHECKPOINT: "checkpoints/depth_anything_v2_metric_hypersim_vitb.pth" # path to checkpoint for DepthAnythingV2, make sure it matches the encoder you choose
#PRINT_TIMING: True            # print per-frame timing breakdown (capture, pose, depth, fuse, save)
#LOG_EVERY_N_FRAMES: 15        # reduce stdout overhead by printing timing every N frames
#SAVE_FRAME_DATA: False        # saving JPEG/NPY/TXT every frame is expensive; disable for low-latency runs
#SAVE_EVERY_N: 1               # if SAVE_FRAME_DATA is True, save once every N processed frames

# Reconstruction settings
filterYvals: True             # this helps filter out the ground / ceiling (for planar navigation)
filterWeights: True           # this helps filter out low-weight voxels
filterTSDF: True
weight_threshold: 3.          # determine the weight threshold for filtering (higher threshold -> fewer points)
INTEGRATE_EVERY_N: 1          # fuse depth into TSDF once every N frames (increase to improve FPS)
VoxelBlockGrid:
depth_scale: 1000.0         # 1000.0 is default (mm to m), scale factor for depth values during integration
depth_max: 7.0              # max depth to include in the reconstruction
trunc_voxel_multiplier: 8.0
device: "CUDA:0"            # "CUDA:0" (faster) or "CPU:0" (if no GPU is available)

# Planning Settings
trajlib_dir: "utils/trajlib/" # where to save & retrieve the trajectory library (motion primitives)

# comment out goal position for undirected exploration
goal_position: # goal position in meters
 -  1.0 # +X RIGHT
 - -1.0 # +Y DOWN (HEIGHT)
 -  10.0 # +Z FORWARD

min_dist2obs: 0.5             # minimum acceptable distance from obstacles, meters (for primitive selection)
min_dist2goal: 0.5            # termination condition for reaching the goal, meters


# Drone Settings
# --------------
# radio_uri: 'radio://0/4/2M/E7E7E7E7E7' # update the drone ID# to match your vehicle, check using cfclient

# IP and port of the telemetry module on the drone. Set appropriate connection strings.
# Replace with serial port name (ex: 'COM9') if using serial telemetry on the PC
IP: "udpout:10.208.153.51:14550" 
baud: 115200               # Set baud, only required for serial telemetry
height: 1.0                # flight altitude, meters

# Arbitrary EKF origin
EKF_LAT: 8.4723591
EKF_LON: 76.9295203
FLY_VEHICLE: False          # whether to actually fly the drone
forward_speed: 0.3
# Control gain settings (YOU MAY NEED TO TUNE THIS YOURSELF)
yvel_gain: 0.015           # yvel =  -yawrate*yvel_gain  <- for providing sideways velocity so fast drones take a pefect turn. Increase for faster turns.
yawrate_gain: 1.25         # yawrate = yawrate*yawrate_gain
